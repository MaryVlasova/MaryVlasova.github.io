function testEmail(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}function testPhone(e){let t=e.value;return/^((8|\+7)[\-]?)?(\(?\d{3}\)?[\-]?)?[\d\-]{7,10}$/.test(t.replace(/'| /g,""))}function DynamicAdapt(e){this.type=e}DynamicAdapt.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],l=t.dataset.da.trim().split(","),o={};o.element=t,o.parent=t.parentNode,o.destination=document.querySelector(l[0].trim()),o.breakpoint=l[1]?l[1].trim():"767",o.place=l[2]?l[2].trim():"last",o.index=this.indexInParent(o.parent,o.element),this.оbjects.push(o)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,l){return Array.prototype.indexOf.call(l,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const l=this.mediaQueries[t],o=String.prototype.split.call(l,","),r=window.matchMedia(o[0]),n=o[1],i=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===n}));r.addListener((function(){e.mediaHandler(r,i)})),this.mediaHandler(r,i)}},DynamicAdapt.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const l=t[e];l.index=this.indexInParent(l.parent,l.element),this.moveTo(l.place,l.element,l.destination)}else for(let e=0;e<t.length;e++){const l=t[e];l.element.classList.contains(this.daClassname)&&this.moveBack(l.parent,l.element,l.index)}},DynamicAdapt.prototype.moveTo=function(e,t,l){t.classList.add(this.daClassname),"last"===e||e>=l.children.length?l.insertAdjacentElement("beforeend",t):"first"!==e?l.children[e].insertAdjacentElement("beforebegin",t):l.insertAdjacentElement("afterbegin",t)},DynamicAdapt.prototype.moveBack=function(e,t,l){t.classList.remove(this.daClassname),void 0!==e.children[l]?e.children[l].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},DynamicAdapt.prototype.indexInParent=function(e,t){const l=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(l,t)},DynamicAdapt.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};const da=new DynamicAdapt("max");if(da.init(),document.querySelectorAll(".slider-single__body .slider-single__slide").forEach((e=>{let t=document.querySelector(".slider-single__dotts");console.log(t);let l=e.querySelector("img");if(console.log(l),l){let e=`\n\t\t<div class="slider-single__slide">\n\t\t\t<div class="slider-single__dot _ibg">\n\t\t\t\t<img src="${l.getAttribute("src")}" alt="${l.getAttribute("alt")}">\n\t\t\t</div>\t\n\t\t</div>\t\t\n\t\t`;t.innerHTML=t.innerHTML+e}})),document.querySelector(".slider-main__body")&&(bildSlider(document.querySelector(".slider-main__body._swiper")),new Swiper(".slider-main__body",{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:1,watchOverflow:!0,speed:800,loop:!0,loopAdditionalSlides:5,preloadImages:!1,lazy:!0,pagination:{el:".slider-main__dotts",clickable:!0}}),document.querySelectorAll(".slider-main .slider-main__dotts>span").forEach(((e,t)=>{let l=document.querySelectorAll(".slider-main .slider-main__slide img");l&&(e.style.backgroundImage="url(../"+l[t].getAttribute("src")+")")}))),document.querySelector(".slider-clients__body")&&(bildSlider(document.querySelector(".slider-clients__body._swiper")),new Swiper(".slider-clients__body",{observer:!0,observeParents:!0,slidesPerView:5,spaceBetween:10,speed:800,loop:!0,watchOverflow:!0,preloadImages:!1,lazy:!0,navigation:{nextEl:".slider-clients .arrow_next",prevEl:".slider-clients .arrow_prev"},breakpoints:{200:{slidesPerView:1},420:{slidesPerView:2},768:{slidesPerView:3},992:{slidesPerView:4,spaceBetween:10},1045:{slidesPerView:5,spaceBetween:10}}})),document.querySelector(".slider-single__body")){bildSlider(document.querySelector(".slider-single__dotts._swiper")),bildSlider(document.querySelector(".slider-single__body._swiper"));let e=new Swiper(".slider-single__dotts",{observer:!0,observeParents:!0,slidesPerView:4,spaceBetween:12,watchOverflow:!0,speed:800,preloadImages:!1});new Swiper(".slider-single__body",{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:1,watchOverflow:!0,speed:800,preloadImages:!1,lazy:!0,thumbs:{swiper:e}})}function bildSlider(e){if(!e.classList.contains("swiper-bild")){let t=e.children;if(t)for(let e=0;e<t.length;e++){t[e].classList.add("swiper-slide")}let l=e.innerHTML,o=document.createElement("div");if(o.classList.add("swiper-wrapper"),o.innerHTML=l,e.innerHTML="",e.appendChild(o),e.classList.add("swiper-bild"),e.classList.contains("_swiper_scroll")){let t=document.createElement("div");t.classList.add("swiper-scrollbar"),e.appendChild(t)}}}var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE "),isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function isIE(){return(ua=navigator.userAgent).indexOf("MSIE ")>-1||ua.indexOf("Trident/")>-1}function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function ibg(){if(isIE()){let t=document.querySelectorAll("._ibg");for(var e=0;e<t.length;e++)t[e].querySelector("img")&&null!=t[e].querySelector("img").getAttribute("src")&&(t[e].style.backgroundImage="url("+t[e].querySelector("img").getAttribute("src")+")")}}isIE()&&document.querySelector("html").classList.add("ie"),isMobile.any()&&document.querySelector("html").classList.add("_touch"),testWebP((function(e){!0===e?document.querySelector("html").classList.add("_webp"):document.querySelector("html").classList.add("_no-webp")})),ibg(),window.addEventListener("load",(function(){document.querySelector(".wrapper")&&setTimeout((function(){document.querySelector(".wrapper").classList.add("_loaded")}),0)}));let unlock=!0;if(location.hash){const e=location.hash.replace("#","");document.querySelector(".popup_"+e)?popup_open(e):document.querySelector("div."+e)&&_goto(document.querySelector("."+e),500,"")}let iconMenu=document.querySelector(".icon-menu");if(null!=iconMenu){let e=500,t=document.querySelector(".menu__body");iconMenu.addEventListener("click",(function(l){unlock&&(body_lock(e),iconMenu.classList.toggle("_active"),t.classList.toggle("_active"))}))}function menu_close(){let e=document.querySelector(".icon-menu"),t=document.querySelector(".menu__body");e.classList.remove("_active"),t.classList.remove("_active")}function body_lock(e){document.querySelector("body").classList.contains("_lock")?body_lock_remove(e):body_lock_add(e)}function body_lock_remove(e){let t=document.querySelector("body");if(unlock){let l=document.querySelectorAll("._lp");setTimeout((()=>{for(let e=0;e<l.length;e++){l[e].style.paddingRight="0px"}t.style.paddingRight="0px",t.classList.remove("_lock")}),e),unlock=!1,setTimeout((function(){unlock=!0}),e)}}function body_lock_add(e){let t=document.querySelector("body");if(unlock){let l=document.querySelectorAll("._lp");for(let e=0;e<l.length;e++){l[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}t.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",t.classList.add("_lock"),unlock=!1,setTimeout((function(){unlock=!0}),e)}}let title=document.querySelectorAll("._letter-animation");if(title)for(let e=0;e<title.length;e++){let t=title[e],l=t.innerHTML.replace("  "," ").split(" "),o="";for(let e=0;e<l.length;e++){let r=l[e],n=r.length;o+="<p>";for(let e=0;e<n;e++){let t=r.substr(e,1);" "==t&&(t="&nbsp;"),o=o+"<span>"+t+"</span>"}t.innerHTML=o,o+="&nbsp;</p>"}}let tabs=document.querySelectorAll("._tabs");for(let e=0;e<tabs.length;e++){let t=tabs[e],l=t.querySelectorAll("._tabs-item"),o=t.querySelectorAll("._tabs-block");for(let e=0;e<l.length;e++){let t=l[e];t.addEventListener("click",(function(r){for(let e=0;e<l.length;e++){l[e].classList.remove("_active"),o[e].classList.remove("_active")}t.classList.add("_active"),o[e].classList.add("_active"),r.preventDefault()}))}}const spollersArray=document.querySelectorAll("[data-spollers]");if(spollersArray.length>0){const e=Array.from(spollersArray).filter((function(e,t,l){return!e.dataset.spollers.split(",")[0]}));e.length>0&&initSpollers(e);const t=Array.from(spollersArray).filter((function(e,t,l){return e.dataset.spollers.split(",")[0]}));if(t.length>0){const e=[];t.forEach((t=>{const l={},o=t.dataset.spollers.split(",");l.value=o[0],l.type=o[1]?o[1].trim():"max",l.item=t,e.push(l)}));let l=e.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));l=l.filter((function(e,t,l){return l.indexOf(e)===t})),l.forEach((t=>{const l=t.split(","),o=l[1],r=l[2],n=window.matchMedia(l[0]),i=e.filter((function(e){if(e.value===o&&e.type===r)return!0}));n.addListener((function(){initSpollers(i,n)})),initSpollers(i,n)}))}function initSpollers(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),initSpollerBody(e),e.addEventListener("click",setSpollerAction)):(e.classList.remove("_init"),initSpollerBody(e,!1),e.removeEventListener("click",setSpollerAction))}))}function initSpollerBody(e,t=!0){const l=e.querySelectorAll("[data-spoller]");l.length>0&&l.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function setSpollerAction(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const l=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),o=l.closest("[data-spollers]"),r=!!o.hasAttribute("data-one-spoller");o.querySelectorAll("._slide").length||(r&&!l.classList.contains("_active")&&hideSpollersBody(o),l.classList.toggle("_active"),_slideToggle(l.nextElementSibling,500)),e.preventDefault()}}function hideSpollersBody(e){const t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),_slideUp(t.nextElementSibling,500))}}let popup_link=document.querySelectorAll("._popup-link"),popups=document.querySelectorAll(".popup");for(let e=0;e<popup_link.length;e++){const t=popup_link[e];t.addEventListener("click",(function(e){if(unlock){popup_open(t.getAttribute("href").replace("#",""),t.getAttribute("data-video"))}e.preventDefault()}))}for(let e=0;e<popups.length;e++){popups[e].addEventListener("click",(function(e){e.target.closest(".popup__body")||popup_close(e.target.closest(".popup"))}))}function popup_open(e,t=""){document.querySelectorAll(".popup._active").length>0&&popup_close("",!1);let l=document.querySelector(".popup_"+e);if(l&&unlock){if(""!=t&&null!=t){document.querySelector(".popup_video").querySelector(".popup__video").innerHTML='<iframe src="https://www.youtube.com/embed/'+t+'?autoplay=1"  allow="autoplay; encrypted-media" allowfullscreen></iframe>'}document.querySelector(".menu__body._active")||body_lock_add(500),l.classList.add("_active"),history.pushState("","","#"+e)}}function popup_close(e,t=!0){if(unlock){if(e){let t=e.querySelector(".popup__video");t&&(t.innerHTML=""),e.classList.remove("_active")}else for(let e=0;e<popups.length;e++){const t=popups[e];let l=t.querySelector(".popup__video");l&&(l.innerHTML=""),t.classList.remove("_active")}!document.querySelector(".menu__body._active")&&t&&body_lock_remove(500),history.pushState("","",window.location.href.split("#")[0])}}let popup_close_icon=document.querySelectorAll(".popup__close,._popup-close");if(popup_close_icon)for(let e=0;e<popup_close_icon.length;e++){const t=popup_close_icon[e];t.addEventListener("click",(function(){popup_close(t.closest(".popup"))}))}document.addEventListener("keydown",(function(e){"Escape"===e.code&&popup_close()}));let _slideUp=(e,t=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},_slideDown=(e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let l=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=l+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}},_slideToggle=(e,t=500)=>e.hidden?_slideDown(e,t):_slideUp(e,t);function _wrap(e,t){e.parentNode.insertBefore(t,e),t.appendChild(e)}function _removeClasses(e,t){for(var l=0;l<e.length;l++)e[l].classList.remove(t)}function _is_hidden(e){return null===e.offsetParent}function _goto(e,t,l=0){let o={speedAsDuration:!0,speed:t,header:"",offset:l,easing:"easeOutQuad"};(new SmoothScroll).animateScroll(e,"",o)}Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var l=0,o=this.length;l<o;++l)e.call(t,this[l],l,this)}),window.onload=function(){var e=pageYOffset;function t(){let e=document.querySelectorAll(".basket .product"),t=0;e.forEach((e=>{t+=function(e){let t=e.querySelector(".basket-item__price"),l=e.querySelector(".product-quantity__input"),o=e.querySelector(".product-amount__price");if(t&&l&&o){t=parseInt(t.innerText.replace(/[^+\d]/g,""))||0,l=parseInt(l.value.match(/\d+/))||0;let e=t*l;return o.innerText=e.toLocaleString(),e}return 0}(e)}));let l=document.querySelector(".basket .basket-amount__value");l&&(l.innerText=t.toLocaleString())}window.addEventListener("scroll",(function(){let t=document.querySelector("header.header");null!==t&&(pageYOffset>e&&pageYOffset>200?t.classList.add("_scroll"):t.classList.remove("_scroll"));e=pageYOffset})),t();document.querySelectorAll(".product-quantity .product-quantity__input").forEach((e=>{e.addEventListener("input",(function(e){t()}))})),document.querySelectorAll(".basket-item__delete").forEach((e=>{e.addEventListener("click",(function(t){t.preventDefault();let l=e.closest(".product");l&&l.remove()}))})),document.querySelectorAll(".catalog-view input[type=radio]").forEach((e=>{e.addEventListener("change",(function(e){document.querySelectorAll(".slider-catalog-view").forEach((e=>{e.classList.add("_hide")})),e.target.checked&&e.target.value&&document.querySelector('.slider-catalog-view[data-view="'+e.target.value+'"]').classList.remove("_hide")}))})),r(document.getElementById("filters-header-icon"),document.querySelector("#filters-header-icon .icon-burger"),document.getElementById("filters-form"));let l=document.getElementById("compare-button-delete");l&&l.addEventListener("click",(function(e){e.preventDefault(),document.getElementById("compare-list").innerHTML=""})),document.querySelectorAll(".filters-form__exit").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),e.target.parentNode.remove()}))})),document.querySelectorAll("#filters-form .button-reset").forEach((e=>{e.addEventListener("click",(e=>{let t=document.getElementById("filters-form");if(t){t.reset(),document.querySelectorAll("#filters-form input[type=checkbox]").forEach((e=>{var t=new Event("change");e.dispatchEvent(t)}))}}))}));let o=document.getElementById("search-form-link");function r(e,t,l,o="_active"){null!=e&&null!=t&&null!=l&&e.addEventListener("click",(function(e){e.preventDefault(),t.classList.toggle(o),l.classList.toggle(o)}))}function n(e){e.classList.add("_disabled"),e.setAttribute("disabled",!0);const t=document.getElementById("cart-icon");let l=document.querySelector("header.header");const o=l.classList.contains("_scroll");let r=t.querySelector("span.quantity");r?r.innerText=(parseInt(r.innerText.match(/\d+/))||0)+1:(r=document.createElement("span"),r.className="quantity",r.innerText="1",t.insertAdjacentHTML("beforend",r)),l.classList.remove("_scroll"),r.classList.add("_fly");let n=()=>{e.classList.remove("_disabled"),e.removeAttribute("disabled"),r.classList.remove("_fly"),o&&l.classList.add("_scroll"),r.removeEventListener("animationend",n)};r.addEventListener("animationend",n)}r(o,o,document.getElementById("search-form-list")),document.querySelectorAll("#search-form-list input[type=checkbox]").forEach((e=>{e.addEventListener("change",(function(e){let t=document.querySelectorAll("#search-form-list input[type=checkbox]:checked");t.length>0?document.querySelector("#search-form-link").innerHTML="Выбрано "+t.length:document.querySelector("#search-form-link").innerHTML="Везде"}))})),r(document.getElementById("page-menu-icon"),document.querySelector("#page-menu-icon .icon-burger"),document.getElementById("page-menu-body")),document.querySelectorAll("#page-menu-body .has-children").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.parentNode.classList.contains("_active");document.querySelectorAll("#page-menu-body .has-children").forEach((e=>{e.classList.remove("_active")})),t||e.target.parentNode.classList.add("_active")}))})),isMobile.any()||document.querySelectorAll("#page-menu-body .has-children").forEach((e=>{e.onmouseover=e.onmouseout=function(t){"mouseover"==t.type&&window.innerWidth>991.98&&(e.classList.contains("_active")||e.classList.add("_active"));"mouseout"==t.type&&window.innerWidth>991.98&&e.classList.remove("_active")}})),r(document.getElementById("home-about-block-icon"),document.querySelector("#home-about-block-icon .icon-burger"),document.getElementById("home-about-block-content")),isMobile.any()&&document.querySelectorAll(".slider-catalog .product").forEach((e=>{e.addEventListener("click",(t=>{"A"!=t.target.tagName&&"BUTTON"!=t.target.tagName&&(t.preventDefault(),e.classList.toggle("_active"))}))})),document.querySelectorAll(".product .product-compare").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();let t=e.target.closest(".product");if(t){let e=t.querySelector(".product__title");if(e){let l=document.getElementById("compare-list");const o=document.createElement("li"),r=document.createElement("a");r.setAttribute("product",t.dataset.product),r.setAttribute("href","#"),r.innerText=e.innerText,o.appendChild(r);const n=document.createElement("button");n.className="filters-form__exit _icon-b-cross",n.addEventListener("click",(function(e){e.preventDefault(),e.target.parentNode.remove()})),o.appendChild(n),l.appendChild(o)}}}))})),document.querySelectorAll(".product button.product-cart").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),n(e)}))})),document.addEventListener("click",(function(e){const t=e.target;t.closest("#search-form-list")||t.closest("#search-form-link")||!document.querySelector("#search-form-list._active")||(document.querySelector("#search-form-list").classList.remove("_active"),document.querySelector("#search-form-link").classList.remove("_active"))})),setTimeout((()=>{var e,t;document.querySelector("#slider-catalog-swiper")&&(e=document.querySelector("#slider-catalog-swiper"),t="json/popular.json",e&&(e.classList.add("_loading"),async function(e){let t=await fetch(e,{method:"GET"});return t.ok?await t.json():(console.log("error"),null)}(t).then((function(e){if(e.products&&e.products.pages){let t="";return e.products.pages.forEach((e=>{t+='<div class="slider-catalog__slide">',e.forEach((e=>{let l="";e.priceOld&&(l=`<div class="product-tile__price_old product__price_old price">${e.priceOld}</div>`);let o="";e.info&&e.info.forEach((e=>{o+=`\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div class="product-tile-info__item">\n\t\t\t\t\t\t\t\t\t<div class="product-tile-info__title">${e.title}</div>\n\t\t\t\t\t\t\t\t\t<div class="product-tile-info__content">${e.text}</div>\n\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t`})),t+=`\n\t\t\t\t\t\t<article data-product="${e.id}" class="slider-catalog__item product product-tile">\n\t\t\t\t\t\t\t<div class="product-tile__img _ibg">\n\t\t\t\t\t\t\t\t<img  src="img/products/${e.image}" alt="${e.title}">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="product-tile__content">\n\t\t\t\t\t\t\t\t<h3 class="product-tile__title product__title">${e.title}</h3>\t\n\t\t\t\t\t\t\t\t<h4 class="product-tile__subtitle product__subtitle">${e.category}</h4>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="product-tile__actions product-tile__actions_small">\n\t\t\t\t\t\t\t\t<span class="product__cart _button-wrapper _icon-b-basket"></span>\n\t\t\t\t\t\t\t\t<div class="product-tile__price product__price price">${e.price}\n\t\t\t\t\t\t\t\t\t${l}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div class="product-tile__active product-tile-active">\n\t\t\t\t\t\t\t\t<div class="product-tile-active__content">\n\t\t\t\t\t\t\t\t\t<div class="product-tile-active__header">\n\t\t\t\t\t\t\t\t\t\t<a href="single.html" class="product__title product-tile__title product-tile__title_active">${e.title}</a>\n\t\t\t\t\t\t\t\t\t\t<a href="${e.url}" class="product__subtitle product-tile__subtitle product-tile__subtitle_active">${e.category}</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<div class="product-tile-active__info product-tile-info">\n\t\t\t\t\t\t\t\t\t\t${o}\t\t\n\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="product-tile-active__center product-tile-active__center_home">\n\t\t\t\t\t\t\t\t\t<button type="button" aria-label="Добавить в корзину" class="product-cart product__cart_active _button-wrapper _button-wrapper_big _icon-b-basket">\t\n\t\t\t\t\t\t\t\t\t</button>\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<div class="product-tile-active__actions product-tile-active__actions_small">\n\t\t\t\t\t\t\t\t\t<span class="product-tag product-tag_catalog">в наличии</span>\n\t\t\t\t\t\t\t\t\t<div class="product-tile__price product__price product__price_active price">\n\t\t\t\t\t\t\t\t\t${e.price}\n\t\t\t\t\t\t\t\t\t\t${l}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</article>\t\n\t\t\t\t\t\t\t`})),t+="</div>"})),t}return null})).then((function(t){e.innerHTML+=t,e.classList.remove("_loading")})).then((function(){bildSlider(e),new Swiper("#slider-catalog-swiper",{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:0,watchOverflow:!0,speed:800,preloadImages:!1,lazy:!0,navigation:{nextEl:".slider-catalog .arrow_next",prevEl:".slider-catalog .arrow_prev"},pagination:{el:".slider-catalog .home-pagination",type:"fraction"}})})).then((function(){e.querySelectorAll(".product button.product-cart").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault(),n(e)}))}))}))))}),1e3)};let formInputs=document.querySelectorAll("input,textarea");formInputs.forEach((e=>{e.onblur=function(){e.classList.remove("_focused")},e.onfocus=function(){e.classList.add("_focused"),e.classList.contains("_error")&&e.classList.remove("_error")}}));let checkboxes=document.querySelectorAll("._label-checkbox");if(checkboxes.length>0)for(let e=0;e<checkboxes.length;e++){let t=document.createElement("span");t.classList="_false-checkbox";checkboxes[e].querySelector('input[type="checkbox"]').insertAdjacentElement("afterEnd",t)}let forms=document.querySelectorAll("form");if(forms.length>0)for(let e=0;e<forms.length;e++){forms[e].addEventListener("submit",formSubmit)}async function formSubmit(e){let t=e.target.closest("form");if(0==formValidate(t)){let l=t.getAttribute("action")?t.getAttribute("action").trim():"#",o=t.getAttribute("method")?t.getAttribute("method").trim():"GET";const r=t.getAttribute("data-message");if(t.getAttribute("data-ajax")){e.preventDefault();let n=new FormData(t);t.classList.add("_sending");let i=await fetch(l,{method:o,body:n});if(i.ok){await i.json();t.classList.remove("_sending"),r&&popup_open(r),formClean(t)}else alert("Ошибка"),t.classList.remove("_sending")}t.hasAttribute("data-test")&&(e.preventDefault(),popup_open(r))}else{e.preventDefault(),console.log("errors"),t.querySelectorAll("._error")&&t.classList.contains("_goto-error")&&_goto(t,1e3,50)}}function formValidate(e){let t=0,l=e.querySelectorAll("._req");if(l.length>0)for(let e=0;e<l.length;e++){const o=l[e];_is_hidden(o)||(t+=formValidateInput(o))}return t}function formValidateInput(e){let t=0,l=e.getAttribute("data-value");if("email"==e.getAttribute("name")||e.classList.contains("_email")){if(e.value!=l){let t=e.value.replace(" ","");e.value=t}testEmail(e)||e.value==l?(formAddError(e),t++):formRemoveError(e)}else"phone"==e.getAttribute("name")||e.classList.contains("_phone")?testPhone(e)?formRemoveError(e):(formAddError(e),t++):"checkbox"==e.getAttribute("type")&&0==e.checked||""==e.value||e.value==l?(formAddError(e),t++):formRemoveError(e);return t}function formAddError(e){e.classList.add("_error"),e.parentElement.classList.add("_error");let t=e.parentElement.querySelector(".form__error");t&&e.parentElement.removeChild(t);let l=e.getAttribute("data-error");l&&""!=l&&e.parentElement.insertAdjacentHTML("beforeend",'<div class="form__error">'+l+"</div>")}function formRemoveError(e){e.classList.remove("_error"),e.parentElement.classList.remove("_error");let t=e.parentElement.querySelector(".form__error");t&&e.parentElement.removeChild(t)}function formClean(e){let t=e.querySelectorAll("input,textarea");for(let e=0;e<t.length;e++){const l=t[e];l.parentElement.classList.remove("_focused"),l.classList.remove("_focused"),l.value=l.getAttribute("data-value")}let l=e.querySelectorAll(".checkbox__input");if(l.length>0)for(let e=0;e<l.length;e++){l[e].checked=!1}let o=e.querySelectorAll("select");if(o.length>0)for(let e=0;e<o.length;e++){const t=o[e],l=t.getAttribute("data-default");t.value=l,selectItem(t)}}let selects=document.getElementsByTagName("select");function selectsInit(){for(let e=0;e<selects.length;e++){const t=selects[e];selectInit(t),t.onblur=function(){t.classList.remove("_focused");let e=t.closest(".select");e&&e.classList.remove("_focused")},t.onfocus=function(){t.classList.add("_focused");let e=t.closest(".select");e&&e.classList.add("_focused")}}document.addEventListener("click",(function(e){selectsClose(e)})),document.addEventListener("keydown",(function(e){"Escape"===e.code&&selectsClose(e)}))}function selectsClose(e){const t=document.querySelectorAll(".select");if(!e.target.closest(".select")&&!e.target.classList.contains("_option"))for(let e=0;e<t.length;e++){const l=t[e],o=l.querySelector(".select__options");l.classList.remove("_active"),_slideUp(o,100)}}function selectInit(e){const t=e.parentElement,l=e.getAttribute("class"),o=e.querySelector("option:checked");e.setAttribute("data-default",o.value),t.insertAdjacentHTML("beforeend",'<div class="select select_'+l+'"></div>'),e.parentElement.querySelector(".select").appendChild(e),selectItem(e)}function selectItem(e){const t=e.parentElement,l=t.querySelector(".select__item"),o=e.querySelectorAll("option"),r=e.querySelector("option:checked").text,n=e.getAttribute("data-type");l&&l.remove();let i="";i="input"==n?'<div class="select__value icon-select-arrow"><input autocomplete="off" type="text" name="form[]" value="'+r+'" data-error="Ошибка" data-value="'+r+'" class="select__input"></div>':'<div class="select__value icon-select-arrow"><span>'+r+"</span></div>",t.insertAdjacentHTML("beforeend",'<div class="select__item"><div class="select__title">'+i+'</div><div hidden class="select__options">'+selectGetOptions(o)+"</div></div></div>"),selectActions(e,t)}function selectActions(e,t){const l=t.querySelector(".select__item"),o=t.querySelector(".select__title"),r=t.querySelector(".select__options"),n=t.querySelectorAll(".select__option"),i=e.getAttribute("data-type"),s=t.querySelector(".select__input");function c(){let l=t.querySelectorAll(".select__option"),o=e.querySelectorAll("option"),r=[];for(let e=0;e<l.length;e++){const t=l[e];if(o[e].removeAttribute("selected"),t.classList.contains("_selected")){const l=t.innerHTML;r.push(l),o[e].setAttribute("selected","selected")}}t.querySelector(".select__value").innerHTML="<span>"+r+"</span>"}function a(e){if(!e){let e=document.querySelectorAll(".select");for(let t=0;t<e.length;t++){const o=e[t],r=o.querySelector(".select__options");o!=l.closest(".select")&&(o.classList.remove("_active"),_slideUp(r,100))}_slideToggle(r,100),t.classList.toggle("_active")}}o.addEventListener("click",(function(e){a()}));for(let l=0;l<n.length;l++){const o=n[l],r=o.getAttribute("data-value"),d=o.innerHTML;"input"==i?s.addEventListener("keyup",selectSearch):o.getAttribute("data-value")==e.value&&e.hasAttribute("multiple"),o.addEventListener("click",(function(){for(let e=0;e<n.length;e++){n[e].style.display="block"}let l;"input"==i?(s.value=d,e.value=r):e.hasAttribute("multiple")?(o.classList.toggle("_selected"),c()):(t.querySelector(".select__value").innerHTML="<span>"+d+"</span>",e.value=r),e.hasAttribute("multiple")&&(l="multiple"),a(l)}))}}function selectGetOptions(e){if(e){let t="";for(let l=0;l<e.length;l++){const o=e[l],r=o.value;if(""!=r){t=t+'<div data-value="'+r+'" class="select__option">'+o.innerHTML+"</div>"}}return t}}function selectSearch(e){e.target.closest(".select ").querySelector(".select__options");let t=e.target.closest(".select ").querySelectorAll(".select__option");e.target.value.toUpperCase();for(let e=0;e<t.length;e++){let l=t[e];l.textContent||l.innerText}}function selectsUpdateAll(){let e=document.querySelectorAll("select");if(e)for(let t=0;t<e.length;t++){selectItem(e[t])}}selects.length>0&&selectsInit();const phoneInputs=document.querySelectorAll("._phone");for(let e=0;e<phoneInputs.length;e++)phoneInputs[e].addEventListener("input",checkPhoneInputs),phoneInputs[e].addEventListener("focus",checkPhoneInputs),phoneInputs[e].addEventListener("blur",checkPhoneInputs);function checkPhoneInputs(e){const t=e.keyCode,l=e.target.getAttribute("placeholder");let o=l;l||(o="+7(___)___-__-__");const r=o.replace(/\D/g,""),n=this.value.replace(/\D/g,"");let i=0,s=o.replace(/[_\d]/g,(function(e){return i<n.length?n.charAt(i++)||r.charAt(i):e}));i=s.indexOf("_"),-1!==i&&(s=s.slice(0,i));let c=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");c=new RegExp("^"+c+"$"),(!c.test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=s),"blur"===e.type&&this.value.length<5&&(this.value="")}const productQuantityFormes=document.querySelectorAll(".product-quantity");productQuantityFormes.forEach((e=>{let t=e.querySelector(".product-quantity__input"),l=e.querySelector(".product-quantity__minus"),o=e.querySelector(".product-quantity__plus");t&&t.addEventListener("keydown",(function(e){46==e.keyCode||8==e.keyCode||9==e.keyCode||27==e.keyCode||65==e.keyCode&&!0===e.ctrlKey||e.keyCode>=35&&e.keyCode<=39||(e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()})),t&&l&&o&&(o.addEventListener("click",(function(e){e.preventDefault();let l=parseInt(t.value.match(/\d+/))||0;t.value=l+1,t.dispatchEvent(new Event("input",{bubbles:!1}))})),l.addEventListener("click",(function(e){e.preventDefault();let l=parseInt(t.value.match(/\d+/))||0;0!=l&&(t.value=l-1,t.dispatchEvent(new Event("input",{bubbles:!1})))})))}));var input0=document.querySelector(".input-with-keypress-0"),input1=document.querySelector(".input-with-keypress-1"),sliderInputs=[input0,input1],rangeSlider=document.getElementById("range");null!=rangeSlider&&(noUiSlider.create(rangeSlider,{start:[0,1e5],padding:1e4,margin:1e3,tooltips:[!0,!0],connect:!0,range:{min:[-1e4],max:[21e4]},format:wNumb({decimals:0,thousand:" "})}),rangeSlider.noUiSlider.on("update",(function(e,t){function l(e,t){var l=[null,null];l[e]=t,rangeSlider.noUiSlider.set(l)}sliderInputs[t].value=e[t],sliderInputs.forEach((function(e,t){e.addEventListener("change",(function(){l(t,this.value)})),e.addEventListener("keydown",(function(e){var o,r=rangeSlider.noUiSlider.get(),n=Number(r[t]),i=rangeSlider.noUiSlider.steps()[t];switch(e.which){case 13:l(t,this.value);break;case 38:!1===(o=i[1])&&(o=1),null!==o&&l(t,n+o);break;case 40:!1===(o=i[0])&&(o=1),null!==o&&l(t,n-o)}}))}))})));